import{_ as G,i as ue,m as ce,a as Z,T as O,u as de,b as pe,E as U,c as me,d as fe,e as ge,f as H,g as ye,h as ve,j as _e}from"./createLoginResData.6b3cabe7.js";import{b as J,d as B,u as be,c as _,i as M,o as g,a as F,r as K,e as y,w as v,f as W,g as f,n as d,h as s,t as Q,v as X,T as Y,j as Ce,k as R,s as he,l as we,m as S,p as Te,q as Be,x as C,y as Ee,z as x,A as xe,F as Ne,B as ke,C as P,D as A,E as ee,G as I,H as j,I as Se,J as $e,K as Me,L as Fe,M as Ie,N as De}from"./index.ca771ff3.js";import{E as q,a as Le}from"./index.5ae9763d.js";const Ve=J({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ze=["textContent"],Oe=B({name:"ElBadge"}),Ue=B({...Oe,props:Ve,setup(t,{expose:o}){const e=t,n=be("badge"),a=_(()=>e.isDot?"":M(e.value)&&M(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return o({content:a}),(i,l)=>(g(),F("div",{class:d(s(n).b())},[K(i.$slots,"default"),y(Y,{name:`${s(n).namespace.value}-zoom-in-center`,persisted:""},{default:v(()=>[W(f("sup",{class:d([s(n).e("content"),s(n).em("content",i.type),s(n).is("fixed",!!i.$slots.default),s(n).is("dot",i.isDot)]),textContent:Q(s(a))},null,10,ze),[[X,!i.hidden&&(s(a)||i.isDot)]])]),_:1},8,["name"])],2))}});var He=G(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Re=Ce(He),se=["success","info","warning","error"],c=ce({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Z?document.body:void 0}),Pe=J({customClass:{type:String,default:c.customClass},center:{type:Boolean,default:c.center},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:ue,default:c.icon},id:{type:String,default:c.id},message:{type:R([String,Object,Function]),default:c.message},onClose:{type:R(Function),required:!1},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:se,default:c.type},offset:{type:Number,default:c.offset},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ae={destroy:()=>!0},p=he([]),je=t=>{const o=p.findIndex(a=>a.id===t),e=p[o];let n;return o>0&&(n=p[o-1]),{current:e,prev:n}},qe=t=>{const{prev:o}=je(t);return o?o.vm.exposed.bottom.value:0},Ge=(t,o)=>p.findIndex(n=>n.id===t)>0?20:o,Ze=["id"],Je=["innerHTML"],Ke=B({name:"ElMessage"}),We=B({...Ke,props:Pe,emits:Ae,setup(t,{expose:o}){const e=t,{Close:n}=me,{ns:a,zIndex:i}=we("message"),{currentZIndex:l,nextZIndex:u}=i,m=S(),w=S(!1),T=S(0);let N;const te=_(()=>e.type?e.type==="error"?"danger":e.type:"info"),oe=_(()=>{const r=e.type;return{[a.bm("icon",r)]:r&&O[r]}}),D=_(()=>e.icon||O[e.type]||""),ae=_(()=>qe(e.id)),L=_(()=>Ge(e.id,e.offset)+ae.value),le=_(()=>T.value+L.value),re=_(()=>({top:`${L.value}px`,zIndex:l.value}));function k(){e.duration!==0&&({stop:N}=fe(()=>{E()},e.duration))}function V(){N==null||N()}function E(){w.value=!1}function ie({code:r}){r===ge.esc&&E()}return Te(()=>{k(),u(),w.value=!0}),Be(()=>e.repeatNum,()=>{V(),k()}),de(document,"keydown",ie),pe(m,()=>{T.value=m.value.getBoundingClientRect().height}),o({visible:w,bottom:le,close:E}),(r,z)=>(g(),C(Y,{name:s(a).b("fade"),onBeforeLeave:r.onClose,onAfterLeave:z[0]||(z[0]=us=>r.$emit("destroy")),persisted:""},{default:v(()=>[W(f("div",{id:r.id,ref_key:"messageRef",ref:m,class:d([s(a).b(),{[s(a).m(r.type)]:r.type&&!r.icon},s(a).is("center",r.center),s(a).is("closable",r.showClose),r.customClass]),style:Ee(s(re)),role:"alert",onMouseenter:V,onMouseleave:k},[r.repeatNum>1?(g(),C(s(Re),{key:0,value:r.repeatNum,type:s(te),class:d(s(a).e("badge"))},null,8,["value","type","class"])):x("v-if",!0),s(D)?(g(),C(s(U),{key:1,class:d([s(a).e("icon"),s(oe)])},{default:v(()=>[(g(),C(xe(s(D))))]),_:1},8,["class"])):x("v-if",!0),K(r.$slots,"default",{},()=>[r.dangerouslyUseHTMLString?(g(),F(Ne,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),f("p",{class:d(s(a).e("content")),innerHTML:r.message},null,10,Je)],2112)):(g(),F("p",{key:0,class:d(s(a).e("content"))},Q(r.message),3))]),r.showClose?(g(),C(s(U),{key:2,class:d(s(a).e("closeBtn")),onClick:ke(E,["stop"])},{default:v(()=>[y(s(n))]),_:1},8,["class","onClick"])):x("v-if",!0)],46,Ze),[[X,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Qe=G(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Xe=1;const ne=t=>{const o=!t||A(t)||ee(t)||I(t)?{message:t}:t,e={...c,...o};if(!e.appendTo)e.appendTo=document.body;else if(A(e.appendTo)){let n=document.querySelector(e.appendTo);Se(n)||(n=document.body),e.appendTo=n}return e},Ye=t=>{const o=p.indexOf(t);if(o===-1)return;p.splice(o,1);const{handler:e}=t;e.close()},es=({appendTo:t,...o},e)=>{const n=`message_${Xe++}`,a=o.onClose,i=document.createElement("div"),l={...o,id:n,onClose:()=>{a==null||a(),Ye(T)},onDestroy:()=>{j(null,i)}},u=y(Qe,l,I(l.message)||ee(l.message)?{default:I(l.message)?l.message:()=>l.message}:null);u.appContext=e||h._context,j(u,i),t.appendChild(i.firstElementChild);const m=u.component,T={id:n,vnode:u,vm:m,handler:{close:()=>{m.exposed.visible.value=!1}},props:u.component.props};return T},h=(t={},o)=>{if(!Z)return{close:()=>{}};if(M(P.max)&&p.length>=P.max)return{close:()=>{}};const e=ne(t);if(e.grouping&&p.length){const a=p.find(({vnode:i})=>{var l;return((l=i.props)==null?void 0:l.message)===e.message});if(a)return a.props.repeatNum+=1,a.props.type=e.type,a.handler}const n=es(e,o);return p.push(n),n.handler};se.forEach(t=>{h[t]=(o={},e)=>{const n=ne(o);return h({...n,type:t},e)}});function ss(t){for(const o of p)(!t||t===o.props.type)&&o.handler.close()}h.closeAll=ss;h._context=null;const $=$e(h,"$message"),ns="_container_1brrx_1",ts="_header_1brrx_16",os="_title_1brrx_24",as="_welcome_1brrx_40",b={container:ns,"login-form":"_login-form_1brrx_4",header:ts,title:os,welcome:as,"login-button":"_login-button_1brrx_45"},ls=f("div",null,"Welcome",-1),rs=f("div",null,"Login",-1),is=[ls,rs],ms=B({__name:"Login",setup(t){const o=De(),e=Me(),n=Fe({login:{account:"demo",password:"12345"},loading:!1}),a=async()=>{const{account:i,password:l}=n.login;if(!i||i.trim()===""){$({type:"warning",message:"\u8BF7\u586B\u5199\u7528\u6237\u8D26\u53F7"});return}if(!l||l.trim()===""){$({type:"warning",message:"\u8BF7\u586B\u5199\u7528\u6237\u5BC6\u7801"});return}try{n.loading=!0;const{user:u,token:m}=await _e();e.setToken(m),e.setUserInfo(u),o.replace("/main"),n.loading=!1}catch(u){const m=u instanceof Error?u.message:"\u64CD\u4F5C\u5F02\u5E38";$({type:"error",message:m}),n.loading=!1}};return(i,l)=>(g(),C(s(ve),{class:d(s(b).container)},{default:v(()=>[f("div",{class:d(s(b).header)},[f("h1",{class:d(s(b).title)},"Module Frame Demo",2)],2),f("div",{class:d(s(b)["login-form"])},[f("div",{class:d(s(b).welcome)},is,2),y(s(Le),{labelPosition:"top",modelValue:n.login,"onUpdate:modelValue":l[2]||(l[2]=u=>n.login=u)},{default:v(()=>[y(s(q),{label:"\u8D26\u53F7"},{default:v(()=>[y(s(H),{modelValue:n.login.account,"onUpdate:modelValue":l[0]||(l[0]=u=>n.login.account=u)},null,8,["modelValue"])]),_:1}),y(s(q),{label:"\u5BC6\u7801"},{default:v(()=>[y(s(H),{type:"password",modelValue:n.login.password,"onUpdate:modelValue":l[1]||(l[1]=u=>n.login.password=u)},null,8,["modelValue"])]),_:1}),f("div",{class:d(s(b)["login-button"])},[y(s(ye),{type:"primary",loading:n.loading,onClick:a},{default:v(()=>[Ie(" \u767B \u5F55 ")]),_:1},8,["loading"])],2)]),_:1},8,["modelValue"])],2)]),_:1},8,["class"]))}});export{ms as default};
